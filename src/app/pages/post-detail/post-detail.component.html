<div class="content-wrapper">
  <!-- header  -->
  <app-header>
    <button (click)="showDialog()" button class="btn">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M3.5 11V18.3C3.5 20.96 4.96001 21.59 6.73001 19.69L6.73999 19.68C7.55999 18.81 8.80999 18.88 9.51999 19.83L10.53 21.18"
          stroke="#171717"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M20.5 11.3V7.04001C20.5 3.01001 19.56 2 15.78 2H8.22C4.44 2 3.5 3.01001 3.5 7.04001"
          stroke="#171717"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M8 7H12.5"
          stroke="#171717"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M15 7H17"
          stroke="#171717"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M9 11H15"
          stroke="#171717"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M18.2091 14.77L14.6691 18.31C14.5291 18.45 14.3991 18.71 14.3691 18.9L14.1791 20.25C14.1091 20.74 14.4491 21.08 14.9391 21.01L16.2891 20.82C16.4791 20.79 16.7491 20.66 16.8791 20.52L20.4191 16.98C21.0291 16.37 21.3191 15.66 20.4191 14.76C19.5291 13.87 18.8191 14.16 18.2091 14.77Z"
          stroke="#171717"
          stroke-width="1.5"
          stroke-miterlimit="10"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M17.6992 15.28C17.9992 16.36 18.8392 17.2 19.9192 17.5"
          stroke="#171717"
          stroke-width="1.5"
          stroke-miterlimit="10"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      Edit Post
    </button>
  </app-header>

  <!-- post card  -->
  @if(singlePost$ | async; as post) {
  <app-post-card [post]="post" />
  <app-comment-list [postComments]="post.comments" />

  <!-- dialoge  -->

  <p-dialog
    [(visible)]="visible"
    [modal]="true"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  >
    <ng-template pTemplate="headless">
      <app-post-form
        [post]="post"
        (closeModal)="closeModal()"
        (submitPost)="editPost($event)"
      />
    </ng-template>
  </p-dialog>
  } 
  
  @if(postLoading$ | async) {
  <app-post-skeleton />
  <div class="comment-skeleton-container">
    <app-comment-skeleton />
    <app-comment-skeleton />
    <app-comment-skeleton />
  </div>
  }
</div>
